<mxfile host="app.diagrams.net" modified="2025-11-24T10:00:00.000Z" agent="Claude Code" version="22.1.11" type="device" pages="15">
  <diagram id="page1" name="01. 전체 시스템 아키텍처">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title1" value="InvokeAI SaaS - 전체 시스템 아키텍처" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="340" y="20" width="490" height="40" as="geometry"/>
        </mxCell>

        <!-- Internet Users -->
        <mxCell id="users" value="사용자" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.users;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Route 53 -->
        <mxCell id="route53" value="Route 53" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#945DF2;gradientDirection=north;fillColor=#5A30B5;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.route_53;" vertex="1" parent="1">
          <mxGeometry x="240" y="100" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- WAF -->
        <mxCell id="waf" value="AWS WAF" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F54749;gradientDirection=north;fillColor=#C7131F;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.waf;" vertex="1" parent="1">
          <mxGeometry x="400" y="100" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- ALB -->
        <mxCell id="alb" value="Application&#xa;Load Balancer" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elastic_load_balancing;" vertex="1" parent="1">
          <mxGeometry x="560" y="100" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- EKS Cluster Container -->
        <mxCell id="eks-container" value="EKS Cluster: pingvas-shared-eks" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#4CAF50;strokeWidth=2;verticalAlign=top;fontSize=14;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="180" y="240" width="800" height="400" as="geometry"/>
        </mxCell>

        <!-- Dev Namespace -->
        <mxCell id="dev-ns" value="개발 네임스페이스" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#FBC02D;strokeWidth=2;verticalAlign=top;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="220" y="290" width="340" height="150" as="geometry"/>
        </mxCell>

        <mxCell id="dev-services" value="Dev Services&#xa;(5 마이크로서비스)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_service;" vertex="1" parent="1">
          <mxGeometry x="260" y="330" width="50" height="50" as="geometry"/>
        </mxCell>

        <mxCell id="dev-workers" value="GPU Workers&#xa;(0-3)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="440" y="330" width="50" height="50" as="geometry"/>
        </mxCell>

        <!-- Prod Namespace -->
        <mxCell id="prod-ns" value="운영 네임스페이스" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#E53935;strokeWidth=2;verticalAlign=top;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="290" width="340" height="150" as="geometry"/>
        </mxCell>

        <mxCell id="prod-services" value="Prod Services&#xa;(5 마이크로서비스)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_service;" vertex="1" parent="1">
          <mxGeometry x="640" y="330" width="50" height="50" as="geometry"/>
        </mxCell>

        <mxCell id="prod-workers" value="GPU Workers&#xa;(0-15)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="820" y="330" width="50" height="50" as="geometry"/>
        </mxCell>

        <!-- System Namespace -->
        <mxCell id="system-ns" value="시스템 (ArgoCD, Prometheus, Karpenter)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#0277BD;verticalAlign=top;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="220" y="480" width="720" height="130" as="geometry"/>
        </mxCell>

        <mxCell id="argocd-icon" value="ArgoCD" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#759C3E;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.generic_database;" vertex="1" parent="1">
          <mxGeometry x="280" y="520" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="prometheus-icon" value="Prometheus" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#759C3E;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.generic_database;" vertex="1" parent="1">
          <mxGeometry x="560" y="520" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="karpenter-icon" value="Karpenter" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#759C3E;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.generic_database;" vertex="1" parent="1">
          <mxGeometry x="840" y="520" width="40" height="40" as="geometry"/>
        </mxCell>

        <!-- Data Layer -->
        <mxCell id="rds" value="RDS Aurora&#xa;Serverless v2&#xa;(공유)" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#4D72F3;gradientDirection=north;fillColor=#3334B9;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.aurora;" vertex="1" parent="1">
          <mxGeometry x="80" y="400" width="60" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="redis-dev" value="Redis Dev&#xa;Standalone" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#4D72F3;gradientDirection=north;fillColor=#3334B9;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elasticache_for_redis;" vertex="1" parent="1">
          <mxGeometry x="80" y="520" width="60" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="redis-prod" value="Redis Prod&#xa;Sentinel (3노드)" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#4D72F3;gradientDirection=north;fillColor=#3334B9;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elasticache_for_redis;" vertex="1" parent="1">
          <mxGeometry x="1040" y="400" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Storage -->
        <mxCell id="s3-dev" value="S3&#xa;dev-images" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#60A337;gradientDirection=north;fillColor=#277116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" vertex="1" parent="1">
          <mxGeometry x="80" y="640" width="60" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="s3-prod" value="S3&#xa;prod-images" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#60A337;gradientDirection=north;fillColor=#277116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" vertex="1" parent="1">
          <mxGeometry x="1040" y="520" width="60" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="efs" value="EFS&#xa;공유 모델" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#60A337;gradientDirection=north;fillColor=#277116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.efs_standard;" vertex="1" parent="1">
          <mxGeometry x="550" y="680" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Arrows -->
        <mxCell id="arrow1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;" edge="1" parent="1" source="users" target="route53">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;" edge="1" parent="1" source="route53" target="waf">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;" edge="1" parent="1" source="waf" target="alb">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;" edge="1" parent="1" source="alb" target="dev-ns">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;" edge="1" parent="1" source="alb" target="prod-ns">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9B59B6;dashed=1;" edge="1" parent="1" source="dev-services" target="rds">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9B59B6;dashed=1;" edge="1" parent="1" source="prod-services" target="rds">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#00D2D3;dashed=1;" edge="1" parent="1" source="dev-services" target="redis-dev">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#00A8A8;dashed=1;" edge="1" parent="1" source="prod-services" target="redis-prod">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#48C774;dashed=1;" edge="1" parent="1" source="dev-workers" target="s3-dev">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#48C774;dashed=1;" edge="1" parent="1" source="prod-workers" target="s3-prod">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#FF9F43;dashed=1;" edge="1" parent="1" source="eks-container" target="efs">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend" value="범례&#xa;━━ HTTPS 트래픽&#xa;┅┅ 데이터베이스 연결&#xa;┅┅ 스토리지 연결" style="text;html=1;strokeColor=#BDBDBD;fillColor=#F5F5F5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1040" y="640" width="120" height="90" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="page2" name="02. VPC 네트워크 설계">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title2" value="VPC 네트워크 설계 (10.0.0.0/16)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="340" y="20" width="490" height="40" as="geometry"/>
        </mxCell>

        <!-- VPC Container -->
        <mxCell id="vpc" value="VPC: 10.0.0.0/16 (us-east-1)" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=14;fontStyle=1;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_vpc;strokeColor=#248814;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="1040" height="640" as="geometry"/>
        </mxCell>

        <!-- Internet Gateway -->
        <mxCell id="igw" value="인터넷&#xa;게이트웨이" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#4D27AA;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.internet_gateway;" vertex="1" parent="1">
          <mxGeometry x="40" y="350" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Public Subnets -->
        <mxCell id="public-subnet-container" value="퍼블릭 서브넷" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=1;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#248814;fillColor=#E9F3E6;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;" vertex="1" parent="vpc">
          <mxGeometry x="40" y="60" width="940" height="150" as="geometry"/>
        </mxCell>

        <mxCell id="pub-subnet-a" value="퍼블릭 A&#xa;10.0.1.0/24&#xa;(us-east-1a)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCEDC8;strokeColor=#689F38;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="public-subnet-container">
          <mxGeometry x="40" y="50" width="200" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="alb-1" value="ALB" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D05C17;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.application_load_balancer;" vertex="1" parent="public-subnet-container">
          <mxGeometry x="100" y="80" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="pub-subnet-b" value="퍼블릭 B&#xa;10.0.2.0/24&#xa;(us-east-1b)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCEDC8;strokeColor=#689F38;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="public-subnet-container">
          <mxGeometry x="280" y="50" width="200" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="nat-gw" value="NAT GW" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#4D27AA;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.nat_gateway;" vertex="1" parent="public-subnet-container">
          <mxGeometry x="340" y="80" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="pub-subnet-c" value="퍼블릭 C&#xa;10.0.3.0/24&#xa;(us-east-1c)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCEDC8;strokeColor=#689F38;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="public-subnet-container">
          <mxGeometry x="520" y="50" width="200" height="80" as="geometry"/>
        </mxCell>

        <!-- Private Subnets -->
        <mxCell id="private-subnet-container" value="프라이빗 서브넷" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=1;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#147EBA;fillColor=#E6F2F8;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=0;" vertex="1" parent="vpc">
          <mxGeometry x="40" y="280" width="940" height="320" as="geometry"/>
        </mxCell>

        <mxCell id="priv-subnet-a" value="프라이빗 A&#xa;10.0.11.0/24&#xa;(us-east-1a)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B3E5FC;strokeColor=#0277BD;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="private-subnet-container">
          <mxGeometry x="40" y="50" width="200" height="240" as="geometry"/>
        </mxCell>

        <mxCell id="eks-node-1" value="EKS Node" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.instance;" vertex="1" parent="private-subnet-container">
          <mxGeometry x="80" y="90" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="rds-writer" value="RDS&#xa;Writer" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#3334B9;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.rds_instance;" vertex="1" parent="private-subnet-container">
          <mxGeometry x="80" y="180" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="priv-subnet-b" value="프라이빗 B&#xa;10.0.12.0/24&#xa;(us-east-1b)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B3E5FC;strokeColor=#0277BD;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="private-subnet-container">
          <mxGeometry x="280" y="50" width="200" height="240" as="geometry"/>
        </mxCell>

        <mxCell id="eks-node-2" value="EKS Node" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.instance;" vertex="1" parent="private-subnet-container">
          <mxGeometry x="320" y="90" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="rds-reader" value="RDS&#xa;Reader" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#3334B9;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.rds_instance;" vertex="1" parent="private-subnet-container">
          <mxGeometry x="320" y="180" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="priv-subnet-c" value="프라이빗 C&#xa;10.0.13.0/24&#xa;(us-east-1c)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B3E5FC;strokeColor=#0277BD;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="private-subnet-container">
          <mxGeometry x="520" y="50" width="200" height="240" as="geometry"/>
        </mxCell>

        <mxCell id="eks-node-3" value="EKS Node" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.instance;" vertex="1" parent="private-subnet-container">
          <mxGeometry x="560" y="90" width="40" height="40" as="geometry"/>
        </mxCell>

        <!-- Arrows -->
        <mxCell id="arrow-igw-nat" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;" edge="1" parent="1" source="igw" target="nat-gw">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-nat-private" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;dashed=1;" edge="1" parent="1" source="nat-gw" target="private-subnet-container">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend2" value="리전: us-east-1&#xa;VPC CIDR: 10.0.0.0/16&#xa;&#xa;퍼블릭: 인터넷 접근&#xa;프라이빗: NAT 경유" style="text;html=1;strokeColor=#BDBDBD;fillColor=#F5F5F5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="950" y="640" width="150" height="90" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="page3" name="03. 보안 그룹">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title3" value="보안 그룹 구성" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="390" y="20" width="390" height="40" as="geometry"/>
        </mxCell>

        <!-- Internet -->
        <mxCell id="internet" value="인터넷" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#E3F2FD;strokeColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="80" y="180" width="120" height="80" as="geometry"/>
        </mxCell>

        <!-- ALB Security Group -->
        <mxCell id="alb-sg" value="ALB 보안 그룹" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="280" y="140" width="180" height="160" as="geometry"/>
        </mxCell>

        <mxCell id="alb-sg-rules" value="인바운드:&#xa;80, 443 from 0.0.0.0/0&#xa;&#xa;아웃바운드:&#xa;8001-8005 to EKS SG" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="290" y="180" width="160" height="100" as="geometry"/>
        </mxCell>

        <!-- EKS Security Group -->
        <mxCell id="eks-sg" value="EKS 노드 보안 그룹" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#0277BD;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="520" y="120" width="200" height="200" as="geometry"/>
        </mxCell>

        <mxCell id="eks-sg-rules" value="인바운드:&#xa;8001-8005 from ALB SG&#xa;All from 동일 SG&#xa;&#xa;아웃바운드:&#xa;All 허용" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="530" y="160" width="180" height="140" as="geometry"/>
        </mxCell>

        <!-- RDS Security Group -->
        <mxCell id="rds-sg" value="RDS 보안 그룹" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="800" y="100" width="180" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="rds-sg-rules" value="인바운드:&#xa;5432 from EKS SG&#xa;&#xa;아웃바운드:&#xa;없음" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="810" y="140" width="160" height="70" as="geometry"/>
        </mxCell>

        <!-- Redis Dev Security Group -->
        <mxCell id="redis-dev-sg" value="Redis Dev 보안 그룹" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00897B;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="800" y="260" width="180" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="redis-dev-sg-rules" value="인바운드:&#xa;6379 from EKS SG&#xa;&#xa;아웃바운드:&#xa;없음" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="810" y="300" width="160" height="70" as="geometry"/>
        </mxCell>

        <!-- Redis Prod Security Group -->
        <mxCell id="redis-prod-sg" value="Redis Prod 보안 그룹" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#C62828;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="800" y="420" width="180" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="redis-prod-sg-rules" value="인바운드:&#xa;6379 from EKS SG&#xa;&#xa;아웃바운드:&#xa;없음" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="810" y="460" width="160" height="70" as="geometry"/>
        </mxCell>

        <!-- EFS Security Group -->
        <mxCell id="efs-sg" value="EFS 보안 그룹" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="800" y="580" width="180" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="efs-sg-rules" value="인바운드:&#xa;2049 from EKS SG&#xa;&#xa;아웃바운드:&#xa;없음" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="810" y="620" width="160" height="70" as="geometry"/>
        </mxCell>

        <!-- Arrows -->
        <mxCell id="arrow-sg1" value="HTTPS&#xa;80, 443" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;fontSize=11;" edge="1" parent="1" source="internet" target="alb-sg">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-sg2" value="8001-8005" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#FF9800;fontSize=11;" edge="1" parent="1" source="alb-sg" target="eks-sg">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-sg3" value="5432" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9C27B0;fontSize=11;" edge="1" parent="1" source="eks-sg" target="rds-sg">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-sg4" value="6379" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#00897B;fontSize=11;" edge="1" parent="1" source="eks-sg" target="redis-dev-sg">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-sg5" value="6379" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#C62828;fontSize=11;" edge="1" parent="1" source="eks-sg" target="redis-prod-sg">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-sg6" value="2049" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#F57C00;fontSize=11;" edge="1" parent="1" source="eks-sg" target="efs-sg">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend3" value="보안 원칙:&#xa;✓ 최소 권한 원칙&#xa;✓ 상태 기반 방화벽&#xa;✓ 소스 제한" style="text;html=1;strokeColor=#BDBDBD;fillColor=#F5F5F5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="580" width="180" height="120" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
