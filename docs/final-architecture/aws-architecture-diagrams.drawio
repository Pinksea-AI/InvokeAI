<mxfile host="app.diagrams.net" modified="2025-11-24T10:00:00.000Z" agent="Claude Code" version="22.1.11" type="device" pages="15">
  <diagram id="page1" name="01. 전체 시스템 아키텍처">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title1" value="InvokeAI SaaS - 전체 시스템 아키텍처" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="340" y="20" width="490" height="40" as="geometry"/>
        </mxCell>

        <!-- Internet Users -->
        <mxCell id="users" value="사용자" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.users;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Route 53 -->
        <mxCell id="route53" value="Route 53" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#945DF2;gradientDirection=north;fillColor=#5A30B5;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.route_53;" vertex="1" parent="1">
          <mxGeometry x="240" y="100" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- WAF -->
        <mxCell id="waf" value="AWS WAF" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F54749;gradientDirection=north;fillColor=#C7131F;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.waf;" vertex="1" parent="1">
          <mxGeometry x="400" y="100" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- ALB -->
        <mxCell id="alb" value="Application&#xa;Load Balancer" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elastic_load_balancing;" vertex="1" parent="1">
          <mxGeometry x="560" y="100" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- EKS Cluster Container -->
        <mxCell id="eks-container" value="EKS Cluster: pingvas-shared-eks" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#4CAF50;strokeWidth=2;verticalAlign=top;fontSize=14;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="180" y="240" width="800" height="400" as="geometry"/>
        </mxCell>

        <!-- Dev Namespace -->
        <mxCell id="dev-ns" value="개발 네임스페이스" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#FBC02D;strokeWidth=2;verticalAlign=top;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="220" y="290" width="340" height="150" as="geometry"/>
        </mxCell>

        <mxCell id="dev-services" value="Dev Services&#xa;(5 마이크로서비스)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_service;" vertex="1" parent="1">
          <mxGeometry x="260" y="330" width="50" height="50" as="geometry"/>
        </mxCell>

        <mxCell id="dev-workers" value="GPU Workers&#xa;(0-3)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="440" y="330" width="50" height="50" as="geometry"/>
        </mxCell>

        <!-- Prod Namespace -->
        <mxCell id="prod-ns" value="운영 네임스페이스" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#E53935;strokeWidth=2;verticalAlign=top;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="290" width="340" height="150" as="geometry"/>
        </mxCell>

        <mxCell id="prod-services" value="Prod Services&#xa;(5 마이크로서비스)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_service;" vertex="1" parent="1">
          <mxGeometry x="640" y="330" width="50" height="50" as="geometry"/>
        </mxCell>

        <mxCell id="prod-workers" value="GPU Workers&#xa;(0-15)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="820" y="330" width="50" height="50" as="geometry"/>
        </mxCell>

        <!-- System Namespace -->
        <mxCell id="system-ns" value="시스템 (ArgoCD, Prometheus, Karpenter)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#0277BD;verticalAlign=top;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="220" y="480" width="720" height="130" as="geometry"/>
        </mxCell>

        <mxCell id="argocd-icon" value="ArgoCD" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#759C3E;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.generic_database;" vertex="1" parent="1">
          <mxGeometry x="280" y="520" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="prometheus-icon" value="Prometheus" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#759C3E;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.generic_database;" vertex="1" parent="1">
          <mxGeometry x="560" y="520" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="karpenter-icon" value="Karpenter" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#759C3E;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.generic_database;" vertex="1" parent="1">
          <mxGeometry x="840" y="520" width="40" height="40" as="geometry"/>
        </mxCell>

        <!-- Data Layer -->
        <mxCell id="rds" value="RDS Aurora&#xa;Serverless v2&#xa;(공유)" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#4D72F3;gradientDirection=north;fillColor=#3334B9;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.aurora;" vertex="1" parent="1">
          <mxGeometry x="80" y="400" width="60" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="redis-dev" value="Redis Dev&#xa;Standalone" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#4D72F3;gradientDirection=north;fillColor=#3334B9;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elasticache_for_redis;" vertex="1" parent="1">
          <mxGeometry x="80" y="520" width="60" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="redis-prod" value="Redis Prod&#xa;Sentinel (3노드)" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#4D72F3;gradientDirection=north;fillColor=#3334B9;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elasticache_for_redis;" vertex="1" parent="1">
          <mxGeometry x="1040" y="400" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Storage -->
        <mxCell id="s3-dev" value="S3&#xa;dev-images" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#60A337;gradientDirection=north;fillColor=#277116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" vertex="1" parent="1">
          <mxGeometry x="80" y="640" width="60" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="s3-prod" value="S3&#xa;prod-images" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#60A337;gradientDirection=north;fillColor=#277116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" vertex="1" parent="1">
          <mxGeometry x="1040" y="520" width="60" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="efs" value="EFS&#xa;공유 모델" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#60A337;gradientDirection=north;fillColor=#277116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.efs_standard;" vertex="1" parent="1">
          <mxGeometry x="550" y="680" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Arrows -->
        <mxCell id="arrow1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;" edge="1" parent="1" source="users" target="route53">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;" edge="1" parent="1" source="route53" target="waf">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;" edge="1" parent="1" source="waf" target="alb">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;" edge="1" parent="1" source="alb" target="dev-ns">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;" edge="1" parent="1" source="alb" target="prod-ns">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9B59B6;dashed=1;" edge="1" parent="1" source="dev-services" target="rds">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9B59B6;dashed=1;" edge="1" parent="1" source="prod-services" target="rds">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#00D2D3;dashed=1;" edge="1" parent="1" source="dev-services" target="redis-dev">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#00A8A8;dashed=1;" edge="1" parent="1" source="prod-services" target="redis-prod">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#48C774;dashed=1;" edge="1" parent="1" source="dev-workers" target="s3-dev">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#48C774;dashed=1;" edge="1" parent="1" source="prod-workers" target="s3-prod">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#FF9F43;dashed=1;" edge="1" parent="1" source="eks-container" target="efs">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend" value="범례&#xa;━━ HTTPS 트래픽&#xa;┅┅ 데이터베이스 연결&#xa;┅┅ 스토리지 연결" style="text;html=1;strokeColor=#BDBDBD;fillColor=#F5F5F5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1040" y="640" width="120" height="90" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="page2" name="02. VPC 네트워크 설계">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title2" value="VPC 네트워크 설계 (10.0.0.0/16)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="340" y="20" width="490" height="40" as="geometry"/>
        </mxCell>

        <!-- VPC Container -->
        <mxCell id="vpc" value="VPC: 10.0.0.0/16 (us-east-1)" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=14;fontStyle=1;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_vpc;strokeColor=#248814;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="1040" height="640" as="geometry"/>
        </mxCell>

        <!-- Internet Gateway -->
        <mxCell id="igw" value="인터넷&#xa;게이트웨이" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#4D27AA;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.internet_gateway;" vertex="1" parent="1">
          <mxGeometry x="40" y="350" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Public Subnets -->
        <mxCell id="public-subnet-container" value="퍼블릭 서브넷" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=1;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#248814;fillColor=#E9F3E6;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;" vertex="1" parent="vpc">
          <mxGeometry x="40" y="60" width="940" height="150" as="geometry"/>
        </mxCell>

        <mxCell id="pub-subnet-a" value="퍼블릭 A&#xa;10.0.1.0/24&#xa;(us-east-1a)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCEDC8;strokeColor=#689F38;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="public-subnet-container">
          <mxGeometry x="40" y="50" width="200" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="alb-1" value="ALB" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D05C17;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.application_load_balancer;" vertex="1" parent="public-subnet-container">
          <mxGeometry x="100" y="80" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="pub-subnet-b" value="퍼블릭 B&#xa;10.0.2.0/24&#xa;(us-east-1b)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCEDC8;strokeColor=#689F38;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="public-subnet-container">
          <mxGeometry x="280" y="50" width="200" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="nat-gw" value="NAT GW" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#4D27AA;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.nat_gateway;" vertex="1" parent="public-subnet-container">
          <mxGeometry x="340" y="80" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="pub-subnet-c" value="퍼블릭 C&#xa;10.0.3.0/24&#xa;(us-east-1c)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCEDC8;strokeColor=#689F38;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="public-subnet-container">
          <mxGeometry x="520" y="50" width="200" height="80" as="geometry"/>
        </mxCell>

        <!-- Private Subnets -->
        <mxCell id="private-subnet-container" value="프라이빗 서브넷" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=1;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#147EBA;fillColor=#E6F2F8;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=0;" vertex="1" parent="vpc">
          <mxGeometry x="40" y="280" width="940" height="320" as="geometry"/>
        </mxCell>

        <mxCell id="priv-subnet-a" value="프라이빗 A&#xa;10.0.11.0/24&#xa;(us-east-1a)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B3E5FC;strokeColor=#0277BD;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="private-subnet-container">
          <mxGeometry x="40" y="50" width="200" height="240" as="geometry"/>
        </mxCell>

        <mxCell id="eks-node-1" value="EKS Node" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.instance;" vertex="1" parent="private-subnet-container">
          <mxGeometry x="80" y="90" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="rds-writer" value="RDS&#xa;Writer" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#3334B9;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.rds_instance;" vertex="1" parent="private-subnet-container">
          <mxGeometry x="80" y="180" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="priv-subnet-b" value="프라이빗 B&#xa;10.0.12.0/24&#xa;(us-east-1b)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B3E5FC;strokeColor=#0277BD;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="private-subnet-container">
          <mxGeometry x="280" y="50" width="200" height="240" as="geometry"/>
        </mxCell>

        <mxCell id="eks-node-2" value="EKS Node" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.instance;" vertex="1" parent="private-subnet-container">
          <mxGeometry x="320" y="90" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="rds-reader" value="RDS&#xa;Reader" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#3334B9;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.rds_instance;" vertex="1" parent="private-subnet-container">
          <mxGeometry x="320" y="180" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="priv-subnet-c" value="프라이빗 C&#xa;10.0.13.0/24&#xa;(us-east-1c)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B3E5FC;strokeColor=#0277BD;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="private-subnet-container">
          <mxGeometry x="520" y="50" width="200" height="240" as="geometry"/>
        </mxCell>

        <mxCell id="eks-node-3" value="EKS Node" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.instance;" vertex="1" parent="private-subnet-container">
          <mxGeometry x="560" y="90" width="40" height="40" as="geometry"/>
        </mxCell>

        <!-- Arrows -->
        <mxCell id="arrow-igw-nat" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;" edge="1" parent="1" source="igw" target="nat-gw">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-nat-private" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;dashed=1;" edge="1" parent="1" source="nat-gw" target="private-subnet-container">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend2" value="리전: us-east-1&#xa;VPC CIDR: 10.0.0.0/16&#xa;&#xa;퍼블릭: 인터넷 접근&#xa;프라이빗: NAT 경유" style="text;html=1;strokeColor=#BDBDBD;fillColor=#F5F5F5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="950" y="640" width="150" height="90" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="page3" name="03. 보안 그룹">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title3" value="보안 그룹 구성" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="390" y="20" width="390" height="40" as="geometry"/>
        </mxCell>

        <!-- Internet -->
        <mxCell id="internet" value="인터넷" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#E3F2FD;strokeColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="80" y="180" width="120" height="80" as="geometry"/>
        </mxCell>

        <!-- ALB Security Group -->
        <mxCell id="alb-sg" value="ALB 보안 그룹" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="280" y="140" width="180" height="160" as="geometry"/>
        </mxCell>

        <mxCell id="alb-sg-rules" value="인바운드:&#xa;80, 443 from 0.0.0.0/0&#xa;&#xa;아웃바운드:&#xa;8001-8005 to EKS SG" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="290" y="180" width="160" height="100" as="geometry"/>
        </mxCell>

        <!-- EKS Security Group -->
        <mxCell id="eks-sg" value="EKS 노드 보안 그룹" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#0277BD;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="520" y="120" width="200" height="200" as="geometry"/>
        </mxCell>

        <mxCell id="eks-sg-rules" value="인바운드:&#xa;8001-8005 from ALB SG&#xa;All from 동일 SG&#xa;&#xa;아웃바운드:&#xa;All 허용" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="530" y="160" width="180" height="140" as="geometry"/>
        </mxCell>

        <!-- RDS Security Group -->
        <mxCell id="rds-sg" value="RDS 보안 그룹" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="800" y="100" width="180" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="rds-sg-rules" value="인바운드:&#xa;5432 from EKS SG&#xa;&#xa;아웃바운드:&#xa;없음" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="810" y="140" width="160" height="70" as="geometry"/>
        </mxCell>

        <!-- Redis Dev Security Group -->
        <mxCell id="redis-dev-sg" value="Redis Dev 보안 그룹" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00897B;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="800" y="260" width="180" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="redis-dev-sg-rules" value="인바운드:&#xa;6379 from EKS SG&#xa;&#xa;아웃바운드:&#xa;없음" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="810" y="300" width="160" height="70" as="geometry"/>
        </mxCell>

        <!-- Redis Prod Security Group -->
        <mxCell id="redis-prod-sg" value="Redis Prod 보안 그룹" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#C62828;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="800" y="420" width="180" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="redis-prod-sg-rules" value="인바운드:&#xa;6379 from EKS SG&#xa;&#xa;아웃바운드:&#xa;없음" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="810" y="460" width="160" height="70" as="geometry"/>
        </mxCell>

        <!-- EFS Security Group -->
        <mxCell id="efs-sg" value="EFS 보안 그룹" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="800" y="580" width="180" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="efs-sg-rules" value="인바운드:&#xa;2049 from EKS SG&#xa;&#xa;아웃바운드:&#xa;없음" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="810" y="620" width="160" height="70" as="geometry"/>
        </mxCell>

        <!-- Arrows -->
        <mxCell id="arrow-sg1" value="HTTPS&#xa;80, 443" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;fontSize=11;" edge="1" parent="1" source="internet" target="alb-sg">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-sg2" value="8001-8005" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#FF9800;fontSize=11;" edge="1" parent="1" source="alb-sg" target="eks-sg">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-sg3" value="5432" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9C27B0;fontSize=11;" edge="1" parent="1" source="eks-sg" target="rds-sg">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-sg4" value="6379" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#00897B;fontSize=11;" edge="1" parent="1" source="eks-sg" target="redis-dev-sg">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-sg5" value="6379" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#C62828;fontSize=11;" edge="1" parent="1" source="eks-sg" target="redis-prod-sg">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-sg6" value="2049" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#F57C00;fontSize=11;" edge="1" parent="1" source="eks-sg" target="efs-sg">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend3" value="보안 원칙:&#xa;✓ 최소 권한 원칙&#xa;✓ 상태 기반 방화벽&#xa;✓ 소스 제한" style="text;html=1;strokeColor=#BDBDBD;fillColor=#F5F5F5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="580" width="180" height="120" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="page4" name="04. EKS 클러스터 구성">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title4" value="EKS 클러스터 구성 (pingvas-shared-eks)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="340" y="20" width="490" height="40" as="geometry"/>
        </mxCell>

        <!-- Control Plane -->
        <mxCell id="control-plane" value="EKS 컨트롤 플레인" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B6B;strokeColor=#C92A2A;strokeWidth=3;verticalAlign=top;fontSize=14;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="340" y="100" width="490" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="k8s-version" value="Kubernetes 1.28&#xa;AWS 관리형&#xa;Multi-AZ 배포" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="485" y="140" width="200" height="60" as="geometry"/>
        </mxCell>

        <!-- System Node Group -->
        <mxCell id="system-ng" value="시스템 노드 그룹" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4ECDC4;strokeColor=#0D7377;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="280" width="400" height="220" as="geometry"/>
        </mxCell>

        <mxCell id="system-specs" value="인스턴스: 2x t3.medium Spot&#xa;용도: ArgoCD, Prometheus, Karpenter&#xa;비용: $18.24/월" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="100" y="320" width="360" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="argocd-pod" value="ArgoCD" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#759C3E;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.generic_database;" vertex="1" parent="1">
          <mxGeometry x="120" y="400" width="50" height="50" as="geometry"/>
        </mxCell>

        <mxCell id="prom-pod" value="Prometheus" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#759C3E;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.generic_database;" vertex="1" parent="1">
          <mxGeometry x="230" y="400" width="50" height="50" as="geometry"/>
        </mxCell>

        <mxCell id="karp-pod" value="Karpenter" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#759C3E;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.generic_database;" vertex="1" parent="1">
          <mxGeometry x="340" y="400" width="50" height="50" as="geometry"/>
        </mxCell>

        <!-- GPU Node Group -->
        <mxCell id="gpu-ng" value="GPU 노드 그룹 (Karpenter 관리)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#95E1D3;strokeColor=#0D7377;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="560" y="280" width="520" height="220" as="geometry"/>
        </mxCell>

        <mxCell id="gpu-specs" value="인스턴스 타입: g4dn.xlarge, g4dn.2xlarge, g5.xlarge&#xa;용량 타입: Spot (70% 할인)&#xa;스케일링: 0-10 노드 (동적)&#xa;TTL: 300초 (빈 노드 제거)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="580" y="320" width="480" height="70" as="geometry"/>
        </mxCell>

        <mxCell id="gpu-node-1" value="GPU Node" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.instance;" vertex="1" parent="1">
          <mxGeometry x="620" y="420" width="50" height="50" as="geometry"/>
        </mxCell>

        <mxCell id="gpu-node-2" value="GPU Node" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.instance;" vertex="1" parent="1">
          <mxGeometry x="770" y="420" width="50" height="50" as="geometry"/>
        </mxCell>

        <mxCell id="gpu-node-3" value="GPU Node" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.instance;" vertex="1" parent="1">
          <mxGeometry x="920" y="420" width="50" height="50" as="geometry"/>
        </mxCell>

        <!-- Workload Pods -->
        <mxCell id="dev-workload" value="개발 워커&#xa;(0-3 GPU)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;verticalAlign=top;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="560" width="480" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="dev-pod-1" value="Worker" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="140" y="610" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="dev-pod-2" value="Worker" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="280" y="610" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="prod-workload" value="운영 워커&#xa;(0-15 GPU)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;verticalAlign=top;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="560" width="480" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="prod-pod-1" value="Worker" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="660" y="610" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="prod-pod-2" value="Worker" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="800" y="610" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="prod-pod-3" value="Worker" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="940" y="610" width="40" height="40" as="geometry"/>
        </mxCell>

        <!-- Arrows -->
        <mxCell id="arrow-cp-system" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;" edge="1" parent="1" source="control-plane" target="system-ng">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-cp-gpu" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4A90E2;" edge="1" parent="1" source="control-plane" target="gpu-ng">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="page5" name="05. 네임스페이스 아키텍처">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title5" value="네임스페이스 아키텍처 및 격리" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="340" y="20" width="490" height="40" as="geometry"/>
        </mxCell>

        <!-- Dev Namespace -->
        <mxCell id="dev-namespace" value="네임스페이스: dev" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;strokeWidth=3;verticalAlign=top;fontSize=14;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="480" height="300" as="geometry"/>
        </mxCell>

        <mxCell id="dev-quota" value="ResourceQuota:&#xa;CPU: 20 cores&#xa;Memory: 50Gi&#xa;GPU: 3&#xa;&#xa;PriorityClass: 100,000" style="text;html=1;strokeColor=#F57C00;fillColor=#FFF3E0;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="150" width="180" height="110" as="geometry"/>
        </mxCell>

        <mxCell id="dev-services-label" value="5개 마이크로서비스:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="320" y="150" width="220" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="dev-svc-1" value="user-service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#FF6F00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="320" y="190" width="100" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="dev-svc-2" value="payment-service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#FF6F00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="440" y="190" width="100" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="dev-svc-3" value="generation-service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#FF6F00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="320" y="230" width="100" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="dev-svc-4" value="gallery-service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#FF6F00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="440" y="230" width="100" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="dev-svc-5" value="model-service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#FF6F00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="320" y="270" width="100" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="dev-workers-label" value="GPU 워커: 0-3" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="310" width="440" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="dev-worker-1" value="Worker" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="200" y="340" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="dev-worker-2" value="Worker" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="380" y="340" width="40" height="40" as="geometry"/>
        </mxCell>

        <!-- Prod Namespace -->
        <mxCell id="prod-namespace" value="네임스페이스: prod" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;strokeWidth=3;verticalAlign=top;fontSize=14;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="600" y="100" width="480" height="300" as="geometry"/>
        </mxCell>

        <mxCell id="prod-quota" value="ResourceQuota:&#xa;CPU: 50 cores&#xa;Memory: 200Gi&#xa;GPU: 15&#xa;&#xa;PriorityClass: 1,000,000" style="text;html=1;strokeColor=#C62828;fillColor=#FFEBEE;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="150" width="180" height="110" as="geometry"/>
        </mxCell>

        <mxCell id="prod-services-label" value="5개 마이크로서비스:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="840" y="150" width="220" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="prod-svc-1" value="user-service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EF9A9A;strokeColor=#C62828;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="840" y="190" width="100" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="prod-svc-2" value="payment-service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EF9A9A;strokeColor=#C62828;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="960" y="190" width="100" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="prod-svc-3" value="generation-service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EF9A9A;strokeColor=#C62828;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="840" y="230" width="100" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="prod-svc-4" value="gallery-service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EF9A9A;strokeColor=#C62828;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="960" y="230" width="100" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="prod-svc-5" value="model-service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EF9A9A;strokeColor=#C62828;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="840" y="270" width="100" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="prod-workers-label" value="GPU 워커: 0-15" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="310" width="440" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="prod-worker-1" value="Worker" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="680" y="340" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="prod-worker-2" value="Worker" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="820" y="340" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="prod-worker-3" value="Worker" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="960" y="340" width="40" height="40" as="geometry"/>
        </mxCell>

        <!-- System Namespaces -->
        <mxCell id="argocd-ns" value="네임스페이스: argocd" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#0277BD;strokeWidth=2;verticalAlign=middle;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="460" width="240" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="argocd-icon2" value="ArgoCD" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#759C3E;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.generic_database;" vertex="1" parent="1">
          <mxGeometry x="175" y="490" width="50" height="50" as="geometry"/>
        </mxCell>

        <mxCell id="monitoring-ns" value="네임스페이스: monitoring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;strokeWidth=2;verticalAlign=middle;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="360" y="460" width="240" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="monitoring-icon" value="Prometheus" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#759C3E;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.generic_database;" vertex="1" parent="1">
          <mxGeometry x="455" y="490" width="50" height="50" as="geometry"/>
        </mxCell>

        <!-- NetworkPolicy -->
        <mxCell id="networkpolicy" value="NetworkPolicy 격리:&#xa;✓ dev ↔ prod 통신 차단&#xa;✓ 네임스페이스 내부 통신 허용&#xa;✓ RDS/Redis 공유 접근 허용" style="text;html=1;strokeColor=#FF6F00;fillColor=#FFF3E0;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="460" width="420" height="80" as="geometry"/>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend5" value="격리 메커니즘:&#xa;• ResourceQuota (리소스 제한)&#xa;• NetworkPolicy (네트워크 격리)&#xa;• PriorityClass (스케줄링 우선순위)" style="text;html=1;strokeColor=#BDBDBD;fillColor=#F5F5F5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="600" width="1000" height="70" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="page6" name="06. Karpenter 오토스케일링">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title6" value="Karpenter GPU 오토스케일링" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="390" y="20" width="390" height="40" as="geometry"/>
        </mxCell>

        <!-- Step 1 -->
        <mxCell id="step1-box" value="1. 새 생성 작업" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;verticalAlign=middle;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="200" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="job-icon" value="Job" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#4A90E2;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.generic_database;" vertex="1" parent="1">
          <mxGeometry x="155" y="120" width="50" height="50" as="geometry"/>
        </mxCell>

        <!-- Step 2 -->
        <mxCell id="step2-box" value="2. Redis 큐" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00897B;strokeWidth=2;verticalAlign=middle;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="220" width="200" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="redis-queue" value="Queue" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#3334B9;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.elasticache_for_redis;" vertex="1" parent="1">
          <mxGeometry x="155" y="240" width="50" height="50" as="geometry"/>
        </mxCell>

        <!-- Step 3 -->
        <mxCell id="step3-box" value="3. 워커 파드 (Pending)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;strokeWidth=2;verticalAlign=middle;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="340" width="200" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="pending-pod" value="Pending&#xa;GPU 없음" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="155" y="360" width="50" height="50" as="geometry"/>
        </mxCell>

        <!-- Step 4 -->
        <mxCell id="step4-box" value="4. Karpenter 감지" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9F43;strokeColor=#FF6F00;strokeWidth=2;verticalAlign=middle;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="360" y="340" width="200" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="karpenter-ctrl" value="Karpenter&#xa;Controller" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#759C3E;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.generic_database;" vertex="1" parent="1">
          <mxGeometry x="435" y="360" width="50" height="50" as="geometry"/>
        </mxCell>

        <!-- Step 5 -->
        <mxCell id="step5-box" value="5. EC2 인스턴스 프로비저닝" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#95E1D3;strokeColor=#0D7377;strokeWidth=2;verticalAlign=middle;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="640" y="340" width="200" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="ec2-provisioning" value="g4dn.xlarge&#xa;Spot" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.instance;" vertex="1" parent="1">
          <mxGeometry x="715" y="360" width="50" height="50" as="geometry"/>
        </mxCell>

        <!-- Step 6 -->
        <mxCell id="step6-box" value="6. 파드 스케줄" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#0277BD;strokeWidth=2;verticalAlign=middle;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="920" y="340" width="200" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="scheduled-pod" value="Scheduled" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#D45B07;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="995" y="360" width="50" height="50" as="geometry"/>
        </mxCell>

        <!-- Step 7 -->
        <mxCell id="step7-box" value="7. GPU 추론 실행" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;strokeWidth=2;verticalAlign=middle;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="920" y="460" width="200" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="running-pod" value="Running&#xa;GPU 추론" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#48C774;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ecs_task;" vertex="1" parent="1">
          <mxGeometry x="995" y="480" width="50" height="50" as="geometry"/>
        </mxCell>

        <!-- Arrows -->
        <mxCell id="arrow6-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#4A90E2;" edge="1" parent="1" source="step1-box" target="step2-box">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow6-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#4A90E2;" edge="1" parent="1" source="step2-box" target="step3-box">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow6-3" value="Pending 감지" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#FF9F43;fontSize=11;" edge="1" parent="1" source="step3-box" target="step4-box">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow6-4" value="EC2 API" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#FF9F43;fontSize=11;" edge="1" parent="1" source="step4-box" target="step5-box">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow6-5" value="노드 등록" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#0277BD;fontSize=11;" edge="1" parent="1" source="step5-box" target="step6-box">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow6-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#48C774;" edge="1" parent="1" source="step6-box" target="step7-box">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Config Box -->
        <mxCell id="config-box" value="Karpenter Provisioner 설정:&#xa;&#xa;인스턴스 타입: g4dn.xlarge, g4dn.2xlarge, g5.xlarge&#xa;용량 타입: Spot&#xa;GPU 제한: 10개&#xa;TTL (빈 노드): 300초&#xa;TTL (만료): 7일" style="text;html=1;strokeColor=#FF6F00;fillColor=#FFF3E0;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="580" width="520" height="140" as="geometry"/>
        </mxCell>

        <!-- Metrics Box -->
        <mxCell id="metrics-box" value="주요 메트릭:&#xa;&#xa;프로비저닝 시간: ~90초&#xa;스케일 다운: 300초 유휴 후&#xa;비용 절감: 70% (Spot)&#xa;작업 성공률: 99.5%" style="text;html=1;strokeColor=#0277BD;fillColor=#E1F5FE;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="580" width="480" height="140" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="page7" name="07. RDS Aurora Serverless v2">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title7" value="RDS Aurora Serverless v2 아키텍처" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="340" y="20" width="490" height="40" as="geometry"/>
        </mxCell>

        <!-- Aurora Cluster -->
        <mxCell id="aurora-cluster" value="Aurora 클러스터: pingvas-shared-aurora" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=3;verticalAlign=top;fontSize=14;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="280" y="100" width="640" height="300" as="geometry"/>
        </mxCell>

        <!-- Writer Instance -->
        <mxCell id="writer-instance" value="Writer 인스턴스" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CE93D8;strokeColor=#7B1FA2;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="320" y="160" width="240" height="200" as="geometry"/>
        </mxCell>

        <mxCell id="writer-specs" value="PostgreSQL 15.4&#xa;Aurora Serverless v2&#xa;&#xa;ACU: 0.5 - 4&#xa;위치: us-east-1a&#xa;&#xa;비용: $87/월 (평균 1 ACU)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="340" y="210" width="200" height="130" as="geometry"/>
        </mxCell>

        <mxCell id="writer-icon" value="Writer" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#3334B9;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=1;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.rds_instance;" vertex="1" parent="1">
          <mxGeometry x="410" y="260" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Reader Instance -->
        <mxCell id="reader-instance" value="Reader 인스턴스" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#7B1FA2;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="640" y="160" width="240" height="200" as="geometry"/>
        </mxCell>

        <mxCell id="reader-specs" value="PostgreSQL 15.4&#xa;Aurora Serverless v2&#xa;&#xa;ACU: 0.5 - 4&#xa;위치: us-east-1b&#xa;&#xa;비용: $87/월 (평균 1 ACU)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="660" y="210" width="200" height="130" as="geometry"/>
        </mxCell>

        <mxCell id="reader-icon" value="Reader" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#3334B9;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=1;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.rds_instance;" vertex="1" parent="1">
          <mxGeometry x="730" y="260" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Replication Arrow -->
        <mxCell id="replication-arrow" value="비동기 복제" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#9B59B6;dashed=1;fontSize=12;fontStyle=1;" edge="1" parent="1" source="writer-instance" target="reader-instance">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Database Schemas -->
        <mxCell id="schemas-box" value="데이터베이스: pingvas" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;strokeWidth=2;verticalAlign=top;fontSize=14;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="460" width="480" height="180" as="geometry"/>
        </mxCell>

        <mxCell id="dev-schema" value="스키마: dev_pingvas" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;verticalAlign=top;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="510" width="180" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="dev-tables" value="10개 테이블:&#xa;users, projects,&#xa;generations,&#xa;models, credits, etc." style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="130" y="545" width="160" height="55" as="geometry"/>
        </mxCell>

        <mxCell id="prod-schema" value="스키마: prod_pingvas" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;verticalAlign=top;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="510" width="180" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="prod-tables" value="10개 테이블:&#xa;users, projects,&#xa;generations,&#xa;models, credits, etc." style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="350" y="545" width="160" height="55" as="geometry"/>
        </mxCell>

        <!-- App Connections -->
        <mxCell id="dev-apps-box" value="개발 서비스" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="640" y="480" width="160" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="prod-apps-box" value="운영 서비스" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#C62828;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="640" y="560" width="160" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-dev-write" value="쓰기" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#F57C00;fontSize=11;" edge="1" parent="1" source="dev-apps-box" target="writer-instance">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-dev-read" value="읽기" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#F57C00;dashed=1;fontSize=11;" edge="1" parent="1" source="dev-apps-box" target="reader-instance">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-prod-write" value="쓰기" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#C62828;fontSize=11;" edge="1" parent="1" source="prod-apps-box" target="writer-instance">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-prod-read" value="읽기" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#C62828;dashed=1;fontSize=11;" edge="1" parent="1" source="prod-apps-box" target="reader-instance">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Backup -->
        <mxCell id="backup-box" value="자동 백업" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE66D;strokeColor=#FF6F00;verticalAlign=top;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="880" y="480" width="200" height="140" as="geometry"/>
        </mxCell>

        <mxCell id="backup-details" value="일일 스냅샷&#xa;7일 보관&#xa;&#xa;특정 시점 복구&#xa;(PITR)&#xa;&#xa;자동 장애조치" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="900" y="525" width="160" height="85" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-backup" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#FFE66D;dashed=1;" edge="1" parent="1" source="writer-instance" target="backup-box">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Connection String -->
        <mxCell id="connection-info" value="연결 문자열:&#xa;&#xa;Writer: pingvas-shared-aurora.cluster-xxx.us-east-1.rds.amazonaws.com&#xa;Reader: pingvas-shared-aurora.cluster-ro-xxx.us-east-1.rds.amazonaws.com&#xa;&#xa;Schema 분리: SET search_path TO {dev|prod}_pingvas, public;" style="text;html=1;strokeColor=#7B1FA2;fillColor=#F3E5F5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="680" width="1000" height="80" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="page8" name="08. Redis 아키텍처">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title8" value="Redis 아키텍처 (개발: Standalone, 운영: Sentinel)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="240" y="20" width="690" height="40" as="geometry"/>
        </mxCell>

        <!-- Dev Environment -->
        <mxCell id="dev-redis-env" value="개발 환경" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;strokeWidth=3;verticalAlign=top;fontSize=14;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="480" height="300" as="geometry"/>
        </mxCell>

        <mxCell id="dev-redis-standalone" value="Redis Standalone" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00897B;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="180" y="200" width="280" height="160" as="geometry"/>
        </mxCell>

        <mxCell id="dev-redis-specs" value="인스턴스: cache.t4g.medium&#xa;메모리: 3.09 GiB&#xa;인증: 없음 (내부 전용)&#xa;비용: $49.64/월&#xa;&#xa;연결: redis://host:6379/0" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="200" y="245" width="240" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="dev-redis-icon" value="Redis" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#3334B9;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=1;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.elasticache_for_redis;" vertex="1" parent="1">
          <mxGeometry x="290" y="160" width="60" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="dev-services-redis" value="개발 서비스" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#FF6F00;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="120" y="160" width="120" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="dev-workers-redis" value="개발 워커" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#FF6F00;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="390" y="160" width="120" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-dev-svc" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#00897B;" edge="1" parent="1" source="dev-services-redis" target="dev-redis-standalone">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-dev-worker" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#00897B;" edge="1" parent="1" source="dev-workers-redis" target="dev-redis-standalone">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Prod Environment -->
        <mxCell id="prod-redis-env" value="운영 환경" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;strokeWidth=3;verticalAlign=top;fontSize=14;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="600" y="100" width="480" height="620" as="geometry"/>
        </mxCell>

        <!-- Primary -->
        <mxCell id="redis-primary" value="Primary (Master)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B2DFDB;strokeColor=#00897B;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="700" y="160" width="280" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="primary-specs" value="cache.r6g.large&#xa;13.07 GiB&#xa;us-east-1a&#xa;AUTH 활성화" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="720" y="200" width="240" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="primary-icon" value="Primary" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#C62828;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=1;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.elasticache_for_redis;" vertex="1" parent="1">
          <mxGeometry x="810" y="190" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Replicas -->
        <mxCell id="redis-replica1" value="Replica 1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B2DFDB;strokeColor=#00897B;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="640" y="340" width="180" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="replica1-specs" value="cache.r6g.large&#xa;us-east-1b" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="670" y="375" width="120" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="redis-replica2" value="Replica 2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B2DFDB;strokeColor=#00897B;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="860" y="340" width="180" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="replica2-specs" value="cache.r6g.large&#xa;us-east-1c" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="890" y="375" width="120" height="40" as="geometry"/>
        </mxCell>

        <!-- Sentinels -->
        <mxCell id="sentinel1" value="Sentinel 1&#xa;(us-east-1a)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE66D;strokeColor=#FF6F00;verticalAlign=middle;fontSize=11;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="640" y="500" width="120" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="sentinel2" value="Sentinel 2&#xa;(us-east-1b)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE66D;strokeColor=#FF6F00;verticalAlign=middle;fontSize=11;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="780" y="500" width="120" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="sentinel3" value="Sentinel 3&#xa;(us-east-1c)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE66D;strokeColor=#FF6F00;verticalAlign=middle;fontSize=11;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="920" y="500" width="120" height="60" as="geometry"/>
        </mxCell>

        <!-- Replication Arrows -->
        <mxCell id="arrow-repl1" value="복제" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#00897B;dashed=1;fontSize=11;" edge="1" parent="1" source="redis-primary" target="redis-replica1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-repl2" value="복제" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#00897B;dashed=1;fontSize=11;" edge="1" parent="1" source="redis-primary" target="redis-replica2">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Sentinel Monitoring -->
        <mxCell id="arrow-sent1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#FFE66D;dashed=1;" edge="1" parent="1" source="sentinel1" target="redis-primary">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-sent2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#FFE66D;dashed=1;" edge="1" parent="1" source="sentinel2" target="redis-primary">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-sent3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#FFE66D;dashed=1;" edge="1" parent="1" source="sentinel3" target="redis-primary">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Prod Apps -->
        <mxCell id="prod-services-redis" value="운영 서비스" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EF9A9A;strokeColor=#C62828;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="640" y="620" width="120" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="prod-workers-redis" value="운영 워커" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EF9A9A;strokeColor=#C62828;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="920" y="620" width="120" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-prod-svc-write" value="쓰기 + AUTH" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#C62828;fontSize=10;" edge="1" parent="1" source="prod-services-redis" target="redis-primary">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-prod-svc-read" value="읽기" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#C62828;dashed=1;fontSize=10;" edge="1" parent="1" source="prod-services-redis" target="redis-replica1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-prod-worker-write" value="쓰기 + AUTH" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#C62828;fontSize=10;" edge="1" parent="1" source="prod-workers-redis" target="redis-primary">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arrow-prod-worker-read" value="읽기" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#C62828;dashed=1;fontSize=10;" edge="1" parent="1" source="prod-workers-redis" target="redis-replica2">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend8" value="개발 환경:&#xa;• Standalone Redis (비용 최적화)&#xa;• 인증 없음 (내부 전용)&#xa;• 고가용성 불필요&#xa;&#xa;운영 환경:&#xa;• Redis Sentinel (3노드 HA)&#xa;• AUTH 패스워드 활성화&#xa;• 자동 장애조치 (&lt;30초)&#xa;• 읽기 복제본으로 부하 분산" style="text;html=1;strokeColor=#BDBDBD;fillColor=#F5F5F5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="460" width="480" height="180" as="geometry"/>
        </mxCell>

        <!-- Cost Box -->
        <mxCell id="cost-redis" value="비용:&#xa;개발: $49.64/월&#xa;운영: $467.09/월&#xa;총계: $516.73/월" style="text;html=1;strokeColor=#FF6F00;fillColor=#FFF3E0;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="660" width="480" height="60" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="page9" name="09. 스토리지 아키텍처">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="title9" value="스토리지 아키텍처 (EFS, S3, CloudFront)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="290" y="20" width="590" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="efs-box" value="EFS: 공유 AI 모델 (100GB, Multi-AZ)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;strokeWidth=2;verticalAlign=middle;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="400" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="s3-dev" value="S3: pingvas-dev-images (500GB)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;strokeWidth=2;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="220" width="400" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="s3-prod" value="S3: pingvas-prod-images (2TB)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;strokeWidth=2;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="300" width="400" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="cloudfront" value="CloudFront CDN (1TB/월)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90CAF9;strokeColor=#1976D2;strokeWidth=2;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="560" y="220" width="400" height="140" as="geometry"/>
        </mxCell>
        <mxCell id="storage-summary" value="총 스토리지 비용: $119/월&#xa;• EFS: $30/월&#xa;• S3 Dev: $11.50/월&#xa;• S3 Prod: $46/월&#xa;• S3 Models: $11.50/월&#xa;• CloudFront: $20/월" style="text;html=1;strokeColor=#BDBDBD;fillColor=#F5F5F5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="400" width="880" height="120" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="page10" name="10. CI/CD 개요">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="title10" value="CI/CD 파이프라인 개요" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="390" y="20" width="390" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="github" value="GitHub" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#24292E;strokeColor=#000;fontColor=#FFF;strokeWidth=2;verticalAlign=middle;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="200" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="gha" value="GitHub Actions&#xa;CI 파이프라인" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4A90E2;strokeColor=#1976D2;fontColor=#FFF;strokeWidth=2;verticalAlign=middle;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="320" y="100" width="200" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="ecr" value="Amazon ECR" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9900;strokeColor=#E67E00;fontColor=#FFF;strokeWidth=2;verticalAlign=middle;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="560" y="100" width="200" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="argocd-cicd" value="ArgoCD" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#E55A2B;fontColor=#FFF;strokeWidth=2;verticalAlign=middle;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="800" y="100" width="200" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="dev-ns-cicd" value="개발 네임스페이스" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;strokeWidth=2;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="320" y="300" width="300" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="prod-ns-cicd" value="운영 네임스페이스&#xa;(수동 승인 필요)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;strokeWidth=2;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="680" y="300" width="300" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="cicd-summary" value="CI/CD 플로우:&#xa;1. 개발자가 코드를 GitHub에 푸시&#xa;2. GitHub Actions가 빌드 &amp; 테스트 실행&#xa;3. Docker 이미지를 ECR에 푸시&#xa;4. ArgoCD가 K8s 매니페스트 변경 감지&#xa;5. 개발 환경은 자동 배포, 운영은 수동 승인 필요" style="text;html=1;strokeColor=#BDBDBD;fillColor=#F5F5F5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="450" width="920" height="120" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="page11" name="11. ArgoCD ApplicationSet">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="title11" value="ArgoCD ApplicationSet 구조" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="340" y="20" width="490" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="appset" value="ApplicationSet: pingvas-services" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#E55A2B;fontColor=#FFF;strokeWidth=3;verticalAlign=middle;fontSize=14;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="390" y="100" width="390" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="env-gen" value="환경 제너레이터&#xa;(dev, prod)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57C00;strokeWidth=2;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="240" y="240" width="200" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="svc-gen" value="서비스 제너레이터&#xa;(5개 서비스)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57C00;strokeWidth=2;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="730" y="240" width="200" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="dev-apps" value="dev-user-service&#xa;dev-payment-service&#xa;dev-generation-service&#xa;dev-gallery-service&#xa;dev-model-service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;strokeWidth=2;verticalAlign=top;fontSize=11;fontStyle=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="80" y="380" width="400" height="140" as="geometry"/>
        </mxCell>
        <mxCell id="prod-apps" value="prod-user-service&#xa;prod-payment-service&#xa;prod-generation-service&#xa;prod-gallery-service&#xa;prod-model-service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;strokeWidth=2;verticalAlign=top;fontSize=11;fontStyle=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="560" y="380" width="400" height="140" as="geometry"/>
        </mxCell>
        <mxCell id="appset-summary" value="ApplicationSet 전략:&#xa;• Matrix 제너레이터로 환경(dev/prod) x 서비스(5개) = 10개 Application 자동 생성&#xa;• 자동 동기화, prune, selfHeal 활성화&#xa;• Git 저장소의 k8s/overlays/{env}/{service} 경로 참조" style="text;html=1;strokeColor=#BDBDBD;fillColor=#F5F5F5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="580" width="880" height="100" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="page12" name="12. 보안 계층">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="title12" value="7계층 보안 아키텍처" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="390" y="20" width="390" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="layer1" value="1. AWS WAF&#xa;속도 제한, SQL 인젝션, XSS" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B6B;strokeColor=#C92A2A;fontColor=#FFF;strokeWidth=2;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="140" y="100" width="880" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="layer2" value="2. 보안 그룹&#xa;상태 기반 방화벽, 최소 권한" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9F43;strokeColor=#F57C00;fontColor=#FFF;strokeWidth=2;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="140" y="180" width="880" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="layer3" value="3. NetworkPolicy&#xa;네임스페이스 격리, 파드 간 규칙" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE66D;strokeColor=#F57C00;strokeWidth=2;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="140" y="260" width="880" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="layer4" value="4. 인증&#xa;OAuth 2.0, JWT 토큰" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4A90E2;strokeColor=#1976D2;fontColor=#FFF;strokeWidth=2;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="140" y="340" width="880" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="layer5" value="5. RBAC&#xa;Kubernetes RBAC, PostgreSQL 역할" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9B59B6;strokeColor=#7B1FA2;fontColor=#FFF;strokeWidth=2;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="140" y="420" width="880" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="layer6" value="6. 행 수준 보안&#xa;PostgreSQL RLS 정책" style="rounded=1;whiteSpace=wrap;html=1;fillColor="#5F27CD;strokeColor=#4A1FA2;fontColor=#FFF;strokeWidth=2;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="140" y="500" width="880" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="layer7" value="7. 암호화&#xa;저장: EBS/RDS/S3 AES-256 | 전송: TLS 1.3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#48C774;strokeColor=#2E7D32;fontColor=#FFF;strokeWidth=2;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="140" y="580" width="880" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="security-note" value="다층 방어 전략으로 각 계층에서 독립적인 보안 통제 제공" style="text;html=1;strokeColor=#BDBDBD;fillColor=#F5F5F5;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="680" width="880" height="40" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="page13" name="13. 시크릿 관리">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="title13" value="시크릿 관리 전략" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="390" y="20" width="390" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="sealed-secrets" value="Sealed Secrets (Git)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4ECDC4;strokeColor=#0D7377;strokeWidth=3;verticalAlign=top;fontSize=14;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="480" height="280" as="geometry"/>
        </mxCell>
        <mxCell id="sealed-use" value="낮은 민감도 시크릿:&#xa;&#xa;• API 엔드포인트&#xa;• 비운영 자격증명&#xa;• 공개 키&#xa;&#xa;장점:&#xa;✓ Git에서 버전 관리&#xa;✓ GitOps 친화적&#xa;✓ 무료" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="100" y="150" width="440" height="210" as="geometry"/>
        </mxCell>
        <mxCell id="aws-secrets" value="AWS Secrets Manager" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9F43;strokeColor=#F57C00;strokeWidth=3;verticalAlign=top;fontSize=14;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="600" y="100" width="480" height="280" as="geometry"/>
        </mxCell>
        <mxCell id="aws-secrets-use" value="높은 민감도 시크릿:&#xa;&#xa;• 운영 DB 자격증명&#xa;• Redis AUTH 토큰&#xa;• JWT 서명 시크릿&#xa;• OAuth 클라이언트 시크릿&#xa;• Lemon Squeezy API 키&#xa;&#xa;장점:&#xa;✓ 자동 로테이션&#xa;✓ 감사 로그&#xa;✓ 세밀한 접근 제어" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="620" y="150" width="440" height="210" as="geometry"/>
        </mxCell>
        <mxCell id="secret-flow" value="시크릿 페칭 플로우:&#xa;&#xa;1. 파드 시작 시 AWS Secrets Manager에서 민감한 시크릿 페치&#xa;2. Sealed Secrets 컨트롤러가 Git의 암호화된 시크릿을 K8s Secret으로 복호화&#xa;3. 애플리케이션은 환경 변수 또는 볼륨 마운트로 시크릿 접근&#xa;&#xa;비용: AWS Secrets Manager $0.40/시크릿/월 (10개 = $4/월)" style="text;html=1;strokeColor=#BDBDBD;fillColor=#F5F5F5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="430" width="1000" height="140" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="page14" name="14. 메트릭 수집">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="title14" value="모니터링 &amp; 메트릭 수집 아키텍처" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="240" y="20" width="690" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="sources" value="데이터 소스" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="480" height="180" as="geometry"/>
        </mxCell>
        <mxCell id="app-metrics" value="애플리케이션 메트릭 (/metrics)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90CAF9;strokeColor=#1976D2;verticalAlign=middle;fontSize=11;align=center;" vertex="1" parent="1">
          <mxGeometry x="100" y="150" width="200" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="k8s-metrics" value="Kubernetes 메트릭" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90CAF9;strokeColor=#1976D2;verticalAlign=middle;fontSize=11;align=center;" vertex="1" parent="1">
          <mxGeometry x="340" y="150" width="200" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="gpu-metrics" value="GPU 메트릭 (DCGM)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90CAF9;strokeColor=#1976D2;verticalAlign=middle;fontSize=11;align=center;" vertex="1" parent="1">
          <mxGeometry x="100" y="220" width="200" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="aws-metrics" value="AWS 메트릭 (CloudWatch)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90CAF9;strokeColor=#1976D2;verticalAlign=middle;fontSize=11;align=center;" vertex="1" parent="1">
          <mxGeometry x="340" y="220" width="200" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="prometheus" value="Prometheus" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E24A4A;strokeColor=#C92A2A;fontColor=#FFF;strokeWidth=3;verticalAlign=middle;fontSize=14;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="640" y="100" width="440" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="prom-specs" value="15초 스크랩 간격&#xa;15일 보관&#xa;고가용성 구성" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#FFF;" vertex="1" parent="1">
          <mxGeometry x="660" y="135" width="400" height="55" as="geometry"/>
        </mxCell>
        <mxCell id="grafana" value="Grafana 대시보드" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#E55A2B;fontColor=#FFF;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="640" y="240" width="440" height="180" as="geometry"/>
        </mxCell>
        <mxCell id="dashboards" value="주요 대시보드:&#xa;&#xa;1. 생성 대시보드 (요청 속도, 지연시간, 큐 길이)&#xa;2. 인프라 대시보드 (CPU, 메모리, 파드 상태)&#xa;3. 비즈니스 대시보드 (크레딧 소비, 활성 사용자)&#xa;4. GPU 대시보드 (사용률, 온도, 스팟 중단)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#FFF;" vertex="1" parent="1">
          <mxGeometry x="660" y="280" width="400" height="125" as="geometry"/>
        </mxCell>
        <mxCell id="logging" value="로깅: Fluent Bit → CloudWatch Logs + S3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4ECDC4;strokeColor=#0D7377;strokeWidth=2;verticalAlign=middle;fontSize=12;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="320" width="480" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="alerting" value="알림 규칙:&#xa;&#xa;중요 (PagerDuty): RDS CPU &gt; 90%, API 5xx 오류율 &gt; 5%&#xa;경고 (Slack): 큐 길이 &gt; 100, 파드 재시작 &gt; 5회" style="text;html=1;strokeColor=#BDBDBD;fillColor=#F5F5F5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="450" width="1000" height="80" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>

  <diagram id="page15" name="15. 백업 전략">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="title15" value="재해 복구 &amp; 백업 전략" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="340" y="20" width="490" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="rds-backup" value="RDS Aurora 백업" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CE93D8;strokeColor=#7B1FA2;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="480" height="140" as="geometry"/>
        </mxCell>
        <mxCell id="rds-backup-detail" value="• 일일 자동 스냅샷 (7일 보관)&#xa;• 특정 시점 복구 (PITR, 최대 7일)&#xa;• 리전 간 스냅샷 (선택사항)&#xa;• 복구 목표: RPO 1시간, RTO 1시간" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="100" y="145" width="440" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="redis-backup" value="Redis 백업" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B2DFDB;strokeColor=#00897B;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="600" y="100" width="480" height="140" as="geometry"/>
        </mxCell>
        <mxCell id="redis-backup-detail" value="• 개발: 백업 없음 (데이터 손실 허용)&#xa;• 운영: S3 일일 백업 (7일 보관)&#xa;• Sentinel 자동 장애조치 (&lt;30초)&#xa;• 복구 목표: RPO 24시간, RTO 30초" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="620" y="145" width="440" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="efs-backup" value="EFS 백업" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57C00;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="280" width="480" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="efs-backup-detail" value="• AWS Backup 서비스 주간 스냅샷&#xa;• 모델 파일 30일 보관&#xa;• 필요시 새 EFS로 복원" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="100" y="320" width="440" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="config-backup" value="구성 백업" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90CAF9;strokeColor=#1976D2;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="600" y="280" width="480" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="config-backup-detail" value="• Git에 모든 Terraform 코드 저장&#xa;• Git에 모든 K8s 매니페스트 저장&#xa;• Git에서 전체 환경 재생성 가능" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="620" y="320" width="440" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="dr-targets" value="복구 목표 (Recovery Objectives)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#C62828;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="80" y="420" width="1000" height="140" as="geometry"/>
        </mxCell>
        <mxCell id="dr-detail" value="개발 환경:&#xa;• RTO (복구 시간 목표): 4시간&#xa;• RPO (복구 시점 목표): 24시간&#xa;&#xa;운영 환경:&#xa;• RTO (복구 시간 목표): 1시간&#xa;• RPO (복구 시점 목표): 1시간&#xa;&#xa;향후 계획: us-west-2에 Active-Passive DR 구성 (RDS 리전 간 복제, S3 리전 간 복제)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="100" y="460" width="960" height="90" as="geometry"/>
        </mxCell>
        <mxCell id="backup-cost" value="백업 비용: CloudWatch + S3 백업 포함 ~$30/월" style="text;html=1;strokeColor=#BDBDBD;fillColor=#F5F5F5;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="600" width="1000" height="40" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
